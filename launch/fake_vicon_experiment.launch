<?xml version="1.0"?>
<launch>

    <include file="$(find multi_car_localization)/launch/fake_cars.launch" />

    <node pkg="multi_car_localization" type="fake_vicon.py" name="fake_vicon" output="screen">
        <param name="num_cars" value="3" />
    </node>

    <group ns="car0">

        <node pkg="multi_car_localization" type="vicon_to_gps.py" name="vicon_to_gps" output="screen">
            <param name="num_cars" value="3" />
        </node>

        <node pkg="gps_common" type="utm_odometry_node" name="gps_to_utm" output="screen">
            <param name="frame_id" value="utm"/>
            <param name="child_frame_id" value="map"/>
        </node>

    </group>

    <group ns="car1">

        <node pkg="multi_car_localization" type="vicon_to_gps.py" name="vicon_to_gps" output="screen">
            <param name="num_cars" value="3" />
        </node>

        <node pkg="gps_common" type="utm_odometry_node" name="gps_to_utm" output="screen">
            <param name="frame_id" value="utm"/>
            <param name="child_frame_id" value="map"/>
        </node>

    </group>

    <group ns="car2">

        <node pkg="multi_car_localization" type="vicon_to_gps.py" name="vicon_to_gps" output="screen">
            <param name="num_cars" value="3" />
        </node>

        <node pkg="gps_common" type="utm_odometry_node" name="gps_to_utm" output="screen">
            <param name="frame_id" value="utm"/>
            <param name="child_frame_id" value="map"/>
        </node>

    </group>

    <node pkg="tf" type="static_transform_publisher" name="map_to_gps"
        args="0 0 0 0 0 0 earth utm 100" />

    <node pkg="tf" type="static_transform_publisher" name="map_to_utm"
        args="327841.212895 4692094.36513 0 0 0 0 utm map 100" />

    <node pkg="tf" type="static_transform_publisher" name="map_to_car0"
        args="0 0 0 0 0 0 map car0 100" />

    <node pkg="tf" type="static_transform_publisher" name="map_to_car1"
        args="0 0 0 0 0 0 map car1 100" />

    <node pkg="tf" type="static_transform_publisher" name="map_to_car2"
        args="0 0 0 0 0 0 map car2 100" />

</launch>