<?xml version="1.0"?>
<launch>
	<include file="$(find pozyx_comm)/launch/sensors.launch">
		<arg name="receiver_port" value="/dev/ttyACM1"/>
		<arg name="sender_port" value="/dev/ttyACM2"/>
	</include>
	<include file="$(find racecar)/launch/teleop.launch"/>
	<include file="$(find particle_filter)/launch/localize.launch"/>
	<include file="$(find multi_car_localization)/launch/single_car_with_consensus.launch"/>
	<node pkg="canopy_client" type="client_node.py" name="canopy_node" output="screen">
		<param name="name" value="$(env CAR_FRAME_ID)"/>
		<param name="host" value="$(arg host)"/>
		<param name="port" value="$(arg port)"/>
		<param name="private_key" value="EjAodXdkTz6RPETFE" />
		<param name="description" value="qux robot" />
		<rosparam subst_value="True">
		    publishing:
			- /control
			- /fix
			- /consensus
			- /lidar_pose
		    types:
			- multi_car_msgs/CarControl
			- sensor_msgs/NavSatFix
			- multi_car_msgs/ConsensusMsg
			- multi_car_msgs/LidarPose
		    trusted:
			- ".*"
			- ".*"
			- ".*"
			- ".*"
		    global_frames:
			- $(env CAR_FRAME_ID)
			- earth
			- map
		</rosparam>
	</node>
</launch>
